<html>

<head>
	<script >
		function suggest(q){
			if(q.length == 0)
				document.getElementById("suggs").innerHTML = "";
			else{
				var xhr = new XMLHttpRequest();
				xhr.onreadystatechange = function() {
					if(this.readyState == 4 && this.status == 200){
						console.log(this.responseText);
						response = JSON.parse(this.responseText);
						for(i=0;i<response.suggs.length;i++)
							document.getElementById("suggs").innerHTML += "<option value=\"" + response.suggs[i] + "\">";
					}
						
				}
				xhr.open("GET", "suggest.php?q="+q, true);
				xhr.send();					
			}
		}
	</script>
</head>

<body>

	<input list="suggs" name="name" onkeyup="suggest(this.value)">
	<datalist id="suggs">
	</datalist>
</body>

</html>
