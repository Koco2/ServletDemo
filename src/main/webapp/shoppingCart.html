<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title> Venus Cosmetics </title>
        <meta charset = "utf-8" />
        <link rel = "stylesheet" type = "text/css" href = "style.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <script src="http://code.jquery.com/jquery-3.4.0.js"></script>
        <script>
            var shoppingCart = [];
            var totalPrice = 0;
            

            function updateShoppingBag(){

                var cart_total_price=0;
                var orderedProductsTblBody=document.getElementById("orderedProductsTblBody");
                while(orderedProductsTblBody.rows.length>0) {
                    orderedProductsTblBody.deleteRow(0);
                }
                for(var product in shoppingCart){
                    if (shoppingCart[product].Count.value <1) {
                        shoppingCart.splice(shoppingCart.indexOf(shoppingCart[product]),1);
                        document.getElementById('subtotal').innerHTML = '$'+String(cart_total_price.toFixed(2));
                        document.getElementById('order_total').innerHTML = '$'+String(cart_total_price.toFixed(2));
                        verify_CheckOut();
                    }
                    var row=orderedProductsTblBody.insertRow();
                    var cellImage = row.insertCell(0);
                    var cellName = row.insertCell(1);
                    var cellAmount = row.insertCell(2);
                    var cellPrice = row.insertCell(3);
                    shoppingCart[product].Images.style = "height:250px;padding:30px;";
                    //fill cells with values from current product object of our array
                    cellName.innerHTML = shoppingCart[product].Name;
                    cellImage.append( shoppingCart[product].Images);
                    cellAmount.append(shoppingCart[product].Count);
                    cellPrice.innerHTML = "$"+String((shoppingCart[product].Price * shoppingCart[product].Count.value).toFixed(2));
                    cart_total_price+= (shoppingCart[product].Price*shoppingCart[product].Count.value);

                }
                //fill total cost of our shopping cart
                totalPrice = cart_total_price;
                document.getElementById('subtotal').innerHTML = '$'+String(totalPrice.toFixed(2));
                document.getElementById('order_total').innerHTML = '$'+String(totalPrice.toFixed(2));

            }
        </script>
    </head>
    <body>
        <div id="top_nav" >
            <a href="shoppingCart.html" onclick="verify_CheckOut()">My Cart</a>
        </div>
        <script>
            window.onscroll = function() {myFunction();};

            var top_nav = document.getElementById("top_nav");
            var sticky = top_nav.offsetTop;

            function myFunction() {
                if (window.pageYOffset >= sticky) {
                    top_nav.classList.add("sticky");
                } else {
                    top_nav.classList.remove("sticky");
                }
            }
        </script>


        <button id="defaultOpen" class="logo_link"  onclick="window.location.href = 'homebutton.html';">Venus Cosmetics</button>
        <button class="tab_link"  onclick="window.location.href = 'EyePalette.html';">Product</button>
        <button class="tab_link"  onclick="window.location.href = 'about.html';">About Us</button>

        ï»¿
        
        
        <div id = "cartContent">
            <h1 style="font-size: 30px; text-align: center; "> SHOPPING BAG </h1>
            <div style="display: flex;padding-left:10px; padding-right:10px;">

                <table class="two_column" >
                    <tr>
                        <td valign="top">
                            <table class="cart_summary">
                                <thead>
                                <tr>
                                    <td>
                                    </td>
                                    <td style="padding: 10px;">
                                    </td>
                                    <td>
                                    </td>
                                    <td>
                                    </td>
                                </tr>
                                </thead>
                                <tbody id="orderedProductsTblBody">
                                </tbody>
                            </table>
                        </td>
                    </tr>
                </table>
                <div class="two_column" style="text-align: left">


                    <h3>ORDER SUMMARY</h3><br>
                    <h5>SUBTOTAL  <span id = 'subtotal' style="float: right"> $0.00</span> </h5>
                    <h5>SHIPPING <span style="float: right">$0.00</span></h5>
                    <h5>ESTIMATED SALES TAX <span style="float: right">$0.00</span></h5>
                    <hr>
                    <h5> ORDER TOTAL <span id = 'order_total' style="float: right">$0.00</span></h5><br>
                    <button type="submit" id = "checkOutSubmit"class="tab_link" style=
                            "background-color: black; color: white;float: right; width: 250px; height: 80px;
                            text-align: center;"
                            onclick="openButton('CheckOutPage');" disabled>CHECKOUT</button>
                </div>
            </div>


        </div>
    </body>
</html>
